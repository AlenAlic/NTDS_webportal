{% import 'registration_wtf.html' as reg_wtf %}
{% if mode == 'edit' %}
{% set editable = not (dancer.status_info[0].status == data.SELECTED or dancer.status_info[0].status == data.CONFIRMED) %}
{% else %}
{% set editable = true %}
{% endif %}

<h2>{{title}}</h2>
<form class="form-horizontal" method="POST" enctype="multipart/form-data" novalidate>
    {{ form.hidden_tag() }}
    {{ form.csrf_token }}
    <h3>Personal Info</h3>
    {% if mode == 'register' %}
        {{ reg_wtf.form_field(form.number) }}
        {{ reg_wtf.form_field(form.first_name, placeholder='First name') }}
        {{ reg_wtf.form_field(form.prefixes, placeholder='Prefixes') }}
        {{ reg_wtf.form_field(form.last_name, placeholder='Last name') }}
    {% elif mode == 'edit' %}
        <div class="form-group  required">
            <label class="control-label  col-xs-2" for="full_name">Full name</label>
            <div class="col-xs-10">
                <div class="input-group">
                    <input class="form-control" disabled="" id="full_name" name="full_name" placeholder="Full name" required="" type="text" value="{{form.full_name.data}}">
                    <a href="{{url_for('teamcaptains.name_change_request', contestant=dancer.contestant_id, wide=wide)}}" class="glyphicon glyphicon-pencil input-group-addon"></a>
                </div>
            </div>
        </div>
    {% endif %}
    {{ reg_wtf.form_field(form.email, placeholder='E-mail address') }}
    {{ reg_wtf.form_field(form.student) }}
    {{ reg_wtf.form_field(form.first_time) }}

    {% if editable is sameas true %}
    <h3>Ballroom</h3>
    {{ reg_wtf.form_field(form.ballroom_level, **{'onchange': "dropDownGreyOut('ballroom', id)"}) }}
    <div id="ballroom">
        {{ reg_wtf.form_field(form.ballroom_role) }}
        <div id="ballroom_p">
            {{ reg_wtf.form_field(form.ballroom_partner) }}
        </div>
    </div>
    <h3>Latin</h3>
    {{ reg_wtf.form_field(form.latin_level, **{'onchange': "dropDownGreyOut('latin', id)"} ) }}
    <div id="latin">
        {{ reg_wtf.form_field(form.latin_role) }}
        <div id="latin_p">
            {{ reg_wtf.form_field(form.latin_partner) }}
        </div>
    </div>
    {% else %}

    <h3>Ballroom</h3>
    {{ reg_wtf.form_field(form.ballroom_level, **{'onchange': "dropDownGreyOut('ballroom', id)", 'disabled': ''}) }}
    <div id="ballroom">
        {{ reg_wtf.form_field(form.ballroom_role, disabled="") }}
        <div id="ballroom_p">
            {{ reg_wtf.form_field(form.ballroom_partner, disabled="") }}
        </div>
    </div>
    <h3>Latin</h3>
    {{ reg_wtf.form_field(form.latin_level, **{'onchange': "dropDownGreyOut('latin', id)", 'disabled': ''} ) }}
    <div id="latin">
        {{ reg_wtf.form_field(form.latin_role, disabled="") }}
        <div id="latin_p">
            {{ reg_wtf.form_field(form.latin_partner, disabled="") }}
        </div>
    </div>
    {% endif %}

    <h3>Adjudication</h3>
    {{ reg_wtf.form_field(form.jury_ballroom) }}
    {{ reg_wtf.form_field(form.license_jury_ballroom) }}
    {{ reg_wtf.form_field(form.jury_latin) }}
    {{ reg_wtf.form_field(form.license_jury_latin) }}
    {{ reg_wtf.form_field(form.jury_salsa) }}
    {{ reg_wtf.form_field(form.jury_polka) }}
    <h3>Additional info</h3>
    {{ reg_wtf.form_field(form.sleeping_arrangements) }}
    {{ reg_wtf.form_field(form.t_shirt) }}
    <div class="form-group  required">
        <label class="control-label col-xs-2" ></label>
        <div class="col-xs-10">
            <div class="input-group">
                <!--{{ reg_wtf.form_field(form.submit) }}-->
                {% if mode == 'edit' %}
                <input class="btn btn-primary" id="submit" name="submit" type="submit" value="Save changes">
                <a role="button" class="btn btn-default" href="{{ url_for('teamcaptains.edit_dancers', wide=wide) }}">Cancel</a>
                {% else %}
                <input class="btn btn-primary" id="submit" name="submit" type="submit" value="Register dancer">
                <a role="button" class="btn btn-default" href="{{ url_for('main.index') }}">Cancel</a>
                {% endif %}
                </div>
        </div>
    </div>


    <!--{{reg_wtf.quick_form(form)}}-->
</form>