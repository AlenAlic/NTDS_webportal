{% if notifications|length > 0 %}
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    {% for notification in notifications %}
    <div class="panel panel-default">
        <div style="background-color:{% if notification.unread %}#fff{%else%}#f5f5f5{%endif%}" class="panel-heading" role="button" id="heading-{{notification.notification_id}}" data-toggle="collapse" data-parent="#accordion" href="#collapse-{{notification.notification_id}}" aria-expanded="false" aria-controls="collapse-{{notification.notification_id}}">
            <div class="panel-title" style="font-size:small; {% if notification.unread %}font-weight:bold{% endif %}">
                <div style="float:right;">{{moment(notification.timestamp).fromNow()}}</div>
                <div>{{notification.get_sender()}} &nbsp;&nbsp;&nbsp;&nbsp; {{notification.title}}</div>
            </div>
        </div>
        <div id="collapse-{{notification.notification_id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading-{{notification.notification_id}}">
            <div class="panel-body">
                {{notification.text}}
            </div>
            <div class=panel-footer>
                {% if notification.unread %}
                <a href="{{url_for('notifications.read', notification=notification.notification_id)}}">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>&nbsp;Mark as read
                    </button>
                </a>
                {% else %}
                <a href="{{url_for('notifications.unread', notification=notification.notification_id)}}">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>&nbsp;Mark as unread
                    </button>
                </a>
                {% endif%}
                {% if notification.archived %}
                <a href="{{url_for('notifications.unarchive',notification=notification.notification_id)}}">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-open"aria-hidden="true"></span>&nbsp;Move to inbox
                    </button>
                </a>
                {% else %}
                <a href="{{url_for('notifications.archive',notification=notification.notification_id)}}">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span>&nbsp;Archive
                    </button>
                </a>
                {% endif%}
                {% if notification.destination %}
                <a style="float: right" href="{{url_for('notifications.goto',notification=notification.notification_id)}}">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>&nbsp;Goto
                    </button>
                </a>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
No messages
{% endif %}